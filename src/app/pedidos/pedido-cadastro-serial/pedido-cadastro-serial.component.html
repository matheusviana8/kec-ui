<div class="container">
    <form #f="ngForm" autocomplete="off" (ngSubmit)="salvar(f)" >
      <p-panel>
        <p-header>
            <div class="p-col-12" style="font-size:16px;margin-top:5px;">
              Cadastro de Serial
            </div>   
        </p-header>
        <div class="ui-g">   
            <div class="ui-g-6 ui-md-2 ui-fluid">
                <label>Código</label>
                <input pInputText type="text" [disabled]="true" [(ngModel)]="pedido.id" name="id">
              </div>
              <div class="ui-g-6 ui-md-2 ui-fluid">
                  <label>Data</label>
                  <p-calendar [(ngModel)]="pedido.dataCriacao" dateFormat="dd/mm/yy"
                  [inline]="false" [readonlyInput]="false" [showIcon]="false"
                  name="dataCriacao" [disabled]="true" ></p-calendar>
            </div>
            <div class="ui-g-12 ui-md-2 ui-fluid">
                <label>Situação</label>
                <p-dropdown [options]="status" [(ngModel)]="pedido.status" name="status" required
                [showClear]="true">
              </p-dropdown>    
              </div>
            <div class="ui-g-12 ui-md-6 ui-fluid">
                <label>Vendedor</label>
                <input pInputText type="text" [disabled]="true" [(ngModel)]="pedido.vendedor.nome" name="vendedor"> 
              </div>
            <div class="ui-g-12 ui-md-12 ui-fluid">
                <label>Cliente</label>
                <input pInputText type="text" [disabled]="true" [(ngModel)]="pedido.cliente.nome" name="cliente"> 
              </div>
    
         
            <div class="ui-g-6 ui-md-5 ui-fluid">
                <label>Produto</label>
                <p-dropdown [options]="itensPedido" optionLabel="produto.descricao" required
                placeholder="Selecione o Produto" [(ngModel)]="serial.produto" name="produto"></p-dropdown> 
            </div>
            <div class="ui-g-6 ui-md-5 ui-fluid">
                <label>Serial</label>
                <input pInputText [(ngModel)]="serial.serial" name="serial" type="text" >
            </div>
            <div class="ui-g-6 ui-md-2 ui-fluid">
                <label>&nbsp;</label>
                <button pButton icon="pi pi-plus"  (click)="adicionarSerial()" label="Adicionar"                
                style="margin-left:.25em"></button>
            </div>

            <p-table [value]="pedido.itensSerial">
                <ng-template pTemplate="header">
                  <tr>
                      <th>Produto</th>
                      <th>Serial</th>
                      <th></th>
                  </tr>
                </ng-template>
                
                <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">     
                      <tr>
                        <td></td>
                        <td>{{ item.serial }}</td>
                          <td>
                              <button pButton icon="fa fa-pencil" type="button"
                              pTooltip="Editar" tooltipPosition="top"
                              (click)="editarItem(rowIndex)"></button>
                            <button pButton icon="fa fa-trash" type="button"
                            pTooltip="Excluir" tooltipPosition="top" 
                            (click)="removerItem(rowIndex)" style="margin-left:.25em"></button>
                          </td>
                        </tr>
                      </ng-template>
                </p-table>
          
        </div>
        <p-footer>
            <button pButton type="submit" icon="pi pi-save" label="Salvar"
           class="ui-button-success" style="margin-right: .25em"></button>
          <a pButton routerLink="/pedidos" icon="pi pi-angle-left" label="Voltar" class="ui-button-secondary"></a>
        </p-footer>
    </p-panel>
    
    </form>
    </div>